<%- include('includes/header.ejs',{active:'settings'}) %>

<div class="container">

    <style>
        .ptable { border:1px solid grey;border-collapse:collapse }
    </style>

<table class="ptable" cellpadding=2>
    <% for (const [key, value] of Object.entries(params.settings)) {
        var desc=key
        if (params.settingsLabels[key]) desc=params.settingsLabels[key]

        if (typeof(value)=='object') {
            %></table>
            <h3><%=desc%></h3>

            <table class="ptable" cellpadding=2>
                <% for (const [subkey, subvalue] of Object.entries(value)) {
                    var subdesc=subkey
                    if (params.settingsLabels[key+'.'+subkey]) subdesc=params.settingsLabels[key+'.'+subkey]
                %>
                    <tr>
                        <td class="ptable"><%=subdesc%></td>
                        <td class="ptable"><%=subvalue%></td>
                    </tr>
                <% } %>
            </table>

            <table class="ptable" cellpadding=2>
        <% } else { %>
        <tr>
            <td class="ptable"><%=desc%></td>
            <td class="ptable"><%=value%></td>
        </tr>
        <% } %>
    <% } %>
</table>

<% if (false) { %>
<pre><%=JSON.stringify(params.settings,null,10)%></pre>
<% } %>

</div>

<%- include('includes/footer.ejs') %>


